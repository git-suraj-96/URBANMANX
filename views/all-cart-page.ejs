<!DOCTYPE html>

<html class="dark" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Shopping Cart - URBANMANX</title>
  <!-- <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script> -->
  <link rel="stylesheet" href="/stylesheets/output.css">
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&amp;family=Poppins:wght@400;500;600;700&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />

  <style>
    .material-symbols-outlined {
      font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
    }

    .loader-box {
      width: 100%;
      height: 100%;
      background-color: #ffffff33;
      position: fixed;
      top: 0;
      z-index: 1000;
      display: none;
    }

    .loader-flex {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      width: 100%;
    }

    .loader {
      width: 48px;
      height: 48px;
      border: 5px solid #fff;
      border-bottom-color: transparent;
      border-radius: 50%;
      display: inline-block;
      box-sizing: border-box;
      animation: rotation 1s linear infinite;
    }

    @keyframes rotation {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-gray-200">
  <div class="relative flex min-h-screen w-full flex-col">
    <!-- Top Navigation Bar -->
    <header class="sticky top-0 z-50 w-full border-b border-white/10 bg-background-dark/80 backdrop-blur-sm">
      <div class="container mx-auto flex items-center justify-between whitespace-nowrap px-4 py-4 md:px-6">
        <div class="flex items-center gap-4 text-white">
          <div class="text-primary size-6">
            <svg fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
              <path d="M44 4H30.6666V17.3334H17.3334V30.6666H4V44H44V4Z" fill="currentColor"></path>
            </svg>
          </div>
          <h2 class="text-white text-xl font-black tracking-tighter">
            URBANMANX
          </h2>
        </div>
        <div class="flex items-center gap-2">
          <a href="/profile">
            <button
              class="hidden h-10 w-10 cursor-pointer items-center justify-center rounded-lg text-white transition-colors hover:bg-white/10 md:flex">
              <span class="material-symbols-outlined">person</span>
            </button>
          </a>
          <button
            class="hidden h-10 w-10 cursor-pointer items-center justify-center rounded-lg text-white transition-colors hover:bg-white/10 md:flex product">
            <span class="material-symbols-outlined">favorite</span>
          </button>
          <a href="/" class="product">
            <img src="/images/static-images/home.png" alt="home" class="h-[25px]">
          </a>
          <a href="/shopping-cart-page" class="product">
            <button
              class="relative flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-transparent text-white gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5 product">
               <img src="/images/static-images/cart.png" alt="cart" class="h-[25px]">
              <div
                class="absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-white text-[10px] font-bold cart-number">
                <%= cart.length %>
              </div>
            </button>
          </a>
        </div>
      </div>
    </header>
    <!-- Main Content -->
    <main class="container mx-auto flex-grow px-4 py-8 md:px-6 md:py-12">
      <div class="flex flex-col gap-12 lg:flex-row lg:items-start cart-view">
        <% if(cart.length> 0){%>
          <!-- Left Column: Cart Items -->
          <div class="w-full flex-1">
            <div class="mb-6 flex flex-wrap items-baseline justify-between gap-3">
              <h1 class="text-white text-4xl font-black leading-tight tracking-[-0.033em]">
                My Bag
              </h1>
              <p class="text-gray-400 my-bag-number">
                <%= cart.length %> Items
              </p>
            </div>
            <div class="flex flex-col divide-y divide-white/10">
              <!-- List Item -->
              <% if(cart.length> 0){ cart.forEach(item => {%>
                <div class="py-6 removed-item">
                  <div class="flex gap-4 justify-between">
                    <div class="flex items-start gap-4">
                      <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-lg size-24 md:size-32 shrink-0"
                        data-alt="Black graphic t-shirt with a white abstract design" style="
                        background-image: url('<%= item.productId.images[0].secure_url %>');
                      "></div>
                      <div class="flex flex-1 flex-col justify-center gap-1">
                       <a href="/product/<%= item.productId._id %>">
                         <p class="text-white text-base font-medium leading-normal">
                          <%= item.productId.productName %>
                        </p>
                       </a>
                        <p class="text-gray-400 text-sm font-normal leading-normal">
                          ₹<%= item.productId.sellingPrice.toLocaleString('en-IN') %>
                        </p>
                        <p class="text-gray-400 text-sm font-normal leading-normal">
                          Size: <%= item.size %>
                        </p>
                      </div>
                    </div>
                    <div class="shrink-0 flex flex-col items-end justify-between">
                      <div class="flex items-center gap-2 text-white">
                        <button
                          class="text-lg font-medium leading-normal flex size-8 items-center justify-center rounded-full bg-surface-dark transition-colors hover:bg-white/20 cursor-pointer">
                          -
                        </button>
                        <span class="text-base font-medium leading-normal w-4 text-center">1</span>
                        <button
                          class="text-lg font-medium leading-normal flex size-8 items-center justify-center rounded-full bg-surface-dark transition-colors hover:bg-white/20 cursor-pointer">
                          +
                        </button>
                      </div>
                      <p class="text-white text-lg font-semibold mt-4">₹<%= item.productId.sellingPrice %>
                      </p>
                    </div>
                  </div>
                  <div class="flex gap-4 pt-4">
                    <p class="text-gray-400 text-sm font-normal leading-normal underline cursor-pointer hover:text-white remove-btn"
                      data-itemid="<%= item.productId._id %>">
                      Remove
                    </p>
                    <p
                      class="text-gray-400 text-sm font-normal leading-normal underline cursor-pointer hover:text-white">
                      Move to wishlist
                    </p>
                  </div>
                </div>
                <%}) }%>

            </div>
          </div>
          <!-- Right Column: Order Summary -->
          <div class="w-full lg:w-96 lg:sticky lg:top-28">
            <div class="rounded-xl border border-white/10 bg-surface-dark p-6">
              <h2 class="text-xl font-bold text-white mb-6">Order Summary</h2>
              <div class="space-y-4 text-gray-300">
                <div class="flex justify-between">
                  <span>Subtotal</span>
                  <span class="sub-total">₹<%= subTotal %></span>
                </div>
                <div class="flex justify-between">
                  <span>Shipping</span>
                  <span class="font-semibold text-green-500">₹50</span>
                </div>
                <div class="flex justify-between">
                  <span>Taxes</span>
                  <span>Calculated at checkout</span>
                </div>
              </div>
              <div class="my-6 border-t border-dashed border-white/20"></div>
              <div class="flex justify-between text-white font-bold text-lg">
                <span>Total</span>
                <span class="total">₹<%= total %></span>
              </div>
              <div class="mt-8">
                <div class="flex gap-2">
                  <input
                    class="flex-grow rounded-lg bg-background-dark px-4 py-3 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#053694] border-gray-700 cursor-pointer"
                    placeholder="Enter coupon code" type="text" />
                  <button
                    class="shrink-0 rounded-lg bg-white/10 px-4 py-3 text-sm font-semibold text-white transition-colors hover:bg-white/20">
                    Apply
                  </button>
                </div>
              </div>
              <a href="/selectAdd">
                <button
                  class="mt-6 w-full rounded-lg bg-primary py-4 text-center font-bold text-white transition-transform hover:scale-[1.02] p-checkout cursor-pointer">
                  Proceed to Checkout
                </button>
              </a>

            </div>
          </div>
          <%}else{%>
            <p class="text-white text-[20px] text-center min-[800px]:text-[35px]">Your Cart is currently Empty.</p>
            <%}%>
      </div>
      <!-- Recently Viewed Items -->
      <% if(recentlyView.length> 0){%>
        <div class="mt-16 md:mt-24">
          <h2 class="text-3xl font-bold text-white mb-8">
            You Might Also Like
          </h2>
          <div class="grid grid-cols-2 gap-[2px] md:grid-cols-4 md:gap-[2px]">
            <!-- Product Card -->
            <% recentlyView.forEach(product=>{%>
              <a href="/product/<%= product._id %>" class="product">
                <div class="group relative cursor-pointer overflow-hidden rounded-[5px]">
                  <div
                    class="bg-center bg-no-repeat aspect-[3/4] bg-cover transition-transform duration-300 group-hover:scale-105"
                    data-alt="Man wearing a black minimalist hoodie" style="
                  background-image: url('<%= product.images[0].secure_url %>');
                "></div>
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                  <div class="absolute bottom-0 left-0 p-4">
                    <h3 class="font-semibold text-white">
                      <%= product.productName %>
                    </h3>
                    <p class="text-sm text-gray-300">Rs<%= product.sellingPrice.toLocaleString('en-IN') %>
                    </p>
                  </div>
                </div>
              </a>
              <%})%>

          </div>
        </div>
        <%}%>



    </main>
    <!-- Footer -->
    <footer class="w-full bg-surface-dark font-body">
      <div class="container mx-auto px-4 py-12 md:px-6">
        <div class="grid grid-cols-2 gap-8 md:grid-cols-4">
          <div>
            <h4 class="font-bold text-white mb-4">Company</h4>
            <ul class="space-y-2 text-sm text-gray-400">
              <li><a class="hover:text-white" href="#">About Us</a></li>
              <li><a class="hover:text-white" href="#">Careers</a></li>
              <li><a class="hover:text-white" href="#">Press</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-bold text-white mb-4">Customer Support</h4>
            <ul class="space-y-2 text-sm text-gray-400">
              <li><a class="hover:text-white" href="#">Contact Us</a></li>
              <li><a class="hover:text-white" href="#">Shipping</a></li>
              <li><a class="hover:text-white" href="#">Returns</a></li>
              <li><a class="hover:text-white" href="#">FAQ</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-bold text-white mb-4">Policies</h4>
            <ul class="space-y-2 text-sm text-gray-400">
              <li><a class="hover:text-white" href="#">Privacy Policy</a></li>
              <li>
                <a class="hover:text-white" href="#">Terms of Service</a>
              </li>
            </ul>
          </div>
          <div>
            <h4 class="font-bold text-white mb-4">Follow Us</h4>
            <div class="flex space-x-4 text-gray-400">
              <a class="hover:text-white" href="#">
                <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewbox="0 0 24 24">
                  <path clip-rule="evenodd"
                    d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                    fill-rule="evenodd"></path>
                </svg>
              </a>
              <a class="hover:text-white" href="#">
                <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewbox="0 0 24 24">
                  <path
                    d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84">
                  </path>
                </svg>
              </a>
              <a class="hover:text-white" href="#">
                <svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewbox="0 0 24 24">
                  <path clip-rule="evenodd"
                    d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427-.465C9.793 2.013 10.147 2 12.315 2zm-1.003 3.865a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm-2.14 8.355c0-1.883 1.525-3.408 3.408-3.408s3.408 1.525 3.408 3.408-1.525 3.408-3.408 3.408-3.408-1.525-3.408-3.408zM12 20.115c-3.328 0-6.024-2.696-6.024-6.024s2.696-6.024 6.024-6.024 6.024 2.696 6.024 6.024-2.696 6.024-6.024 6.024z"
                    fill-rule="evenodd"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
        <div class="mt-8 border-t border-white/10 pt-8 text-center text-sm text-gray-500">
          <p>© 2024 URBANMANX. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </div>


  <div class="loader-box">
    <div class="loader-flex">
      <div class="loader"></div>
    </div>
  </div>

  <script src="/javascripts/all-product-page.js"></script>
</body>

</html>